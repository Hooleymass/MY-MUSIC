URL=$1

echo "CHOOSE A OPTION "

echo "
    0) QUIT/EXIT
	1) VIDEO + AUDIO
	2) VIDEO ONLY
	3) AUDIO ONLY
	4) CUT AND SAVE
	5) CUT AND SAVE AUDIO ONLY
"

echo ""

read -p "OPTION:" OPTION

case $OPTION in

    0) echo "EXITTING"
sleep 1
exit;;

	1) echo "

VIDEO + AUDIO

"
echo "Master Tell Me The Quality You Want To Download The Video In

"

echo "e.g. 1080 720 480 360 240 144

"

read -p 'QUALITY : ' QUALITY

echo "

Master Now Tell Me What You Want To Tag To The Name Of The Video

"

read -p "TAG (NO SPACE's): " TAG

echo "

Now Commencing Download

"

title=$(youtube-dl --get-title $URL)

youtube-dl -f "bestvideo[height<=$QUALITY][ext=mp4]+bestaudio[ext=m4a]/bestvideo[height<=$QUALITY]+bestaudio/best[height<=$QUALITY]/best" --add-metadata --embed-thumbnail --recode-video mp4 --newline -o "~/storage/shared/MY-MUSIC/%(title)s[$TAG].%(ext)s" "$URL"

echo "

        INTERNAL/MY-MUSIC/$title [$TAG].mp4"
;;


	2) echo "

VIDEO ONLY

"
echo "Master Tell Me The Quality You Want To Download The Video In

"

echo "e.g. 1080 720 480 360 240 144

"

read -p 'QUALITY : ' QUALITY

echo "

Master Now Tell Me What You Want To Tag To The Name Of The Video

"

read -p "TAG (NO SPACE's): " TAG

echo "

Now Commencing Download

"

title=$(youtube-dl --get-title $URL)

youtube-dl -f "bestvideo[height<=$QUALITY][ext=mp4]/bestvideo[height<=$QUALITY]/best[height<=$QUALITY/best" --add-metadata --embed-thumbnail --recode-video mp4 --newline -o "~/storage/shared/MY-MUSIC/%(title)s[$TAG].%(ext)s" "$URL"

echo "

        INTERNAL/MY-MUSIC/$title [$TAG].mp4"
;;

	3) echo "

AUDIO ONLY

"

echo "

Master Now Tell Me What You Want To Tag To The Name Of The Video

"

read -p "TAG (NO SPACE's) : " TAG

echo "

Now Commencing Download

"
title=$(youtube-dl --get-title $URL)

youtube-dl --add-metadata --embed-thumbnail -x --audio-format mp3 --newline -o "~/storage/shared/MY-MUSIC/%(title)s"[$TAG]".%(ext)s" $URL


echo "

      INTERNAL/MY-MUSIC/$title [$TAG].mp3"
;;

	4) echo "

CUT AND SAVE

"
echo "

Master Tell Me The Quality You Want To Download The Video In

"

echo "e.g. 1080 720 480 360 240 144

"

read -p 'QUALITY : ' QUALITY

echo "

Master Now Tell Me What You Want To Name The Video

"
echo "And To Help You This Is The Original Video Title"

echo "

$(youtube-dl --get-title $URL)

"

read -p 'NAME: ' TAG

echo "

Master Now Give Me The Start Time

"

read -p 'HH:MM:SS.MLS : ' STARTTIME

echo "

Master Now Give Me The END Time

"

read -p 'HH:MM:SS.MLS : ' ENDTIME

echo "

Now Commencing Download

"

video=$(youtube-dl -g -f "bestvideo[ext=mp4][height<="$QUALITY"]" $URL)

audio=$(youtube-dl -g -f "bestaudio[ext=m4a]" $URL)

#title=$(youtube-dl --get-title $URL)

filename="$TAG"

ffmpeg -i $video -i $audio -ss $STARTTIME -to $ENDTIME -c copy rename-me.mkv

ffmpeg -i rename-me.mkv -c copy rename-me.mp4

rm rename-me.mkv

mv rename-me.mp4 ~/storage/shared/MY-MUSIC/"$filename.mp4"

echo "

      INTERNAL/MY-MUSIC/$filename.mp4"
;;

	5) echo "

CUT AND SAVE AUDIO ONLY

"
echo "

Master Now Tell Me What You Want To Name The Video

"
echo "

And To Help You This Is The Original Video Title

"
echo $(youtube-dl --get-title $URL)

read -p 'NAME: ' TAG

echo "

Master Now Give Me The Start Time

"

read -p 'HH:MM:SS.MLS : ' STARTTIME

echo "

Master Now Give Me The END Time

"

read -p 'HH:MM:SS.MLS : ' ENDTIME

echo "

Now Commencing Download"

audio=$(youtube-dl -g -f "bestaudio[ext=m4a]" $URL)

title=$(youtube-dl --get-title $URL)

thumbnail=$(youtube-dl --get-thumbnail)

filename="$TAG"

ffmpeg  -i "$audio" -ss $STARTTIME -to $ENDTIME rename-me.mkv

ffmpeg  -i rename-me.mkv rename-me.mp3

rm rename-me.mkv

mv rename-me.mp3 ~/storage/shared/MY-MUSIC/"$filename.mp3"

echo "

      INTERNAL/MY-MUSIC/$filename.mp3"
      ;;

	*) echo "

THATS NOT A OPTION PLEASE TRY AGAIN

";;
esac
